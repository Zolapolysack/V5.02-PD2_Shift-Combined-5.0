<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>สถานะระบบ • PD2</title>
  <script src="https://cdn.tailwindcss.com/3.4.10"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@200;300;400;500;600&display=swap" rel="stylesheet">
  <style>*{font-family:'Kanit',sans-serif}</style>
</head>
<body class="min-h-screen bg-gradient-to-br from-black via-slate-900 to-sky-800 text-white">
  <div class="max-w-3xl mx-auto p-6">
    <h1 class="text-2xl font-semibold">สถานะระบบ</h1>
    <p class="text-white/70 mt-1">หน้าอ่านอย่างเดียว ไม่แตะข้อมูลผู้ใช้</p>

    <div id="card" class="mt-6 rounded-xl border border-white/15 bg-white/5 p-5">
      <div id="status" class="text-lg"></div>
      <ul class="mt-3 space-y-1 text-sm text-white/80" id="list"></ul>
    </div>

    <div class="mt-8 text-sm text-white/70">
      <a href="./" class="underline">กลับหน้าหลัก</a>
    </div>
  </div>

  <script>
    (function(){
      const statusEl = document.getElementById('status');
      const listEl = document.getElementById('list');
      const add = (t) => { const li = document.createElement('li'); li.textContent = t; listEl.appendChild(li); };

      const checks = [];
      checks.push(['ออนไลน์', navigator.onLine]);
      checks.push(['หน่วยประมวลผลตรรกะ (cores)', navigator.hardwareConcurrency || 'ไม่ทราบ']);
      checks.push(['หน่วยความจำอุปกรณ์ (GB, ประมาณการ)', (navigator.deviceMemory || 'ไม่ทราบ')]);

      // Storage quota (best-effort, read-only)
      (async () => {
        let quota = 'ไม่ทราบ';
        try{
          if (navigator.storage && navigator.storage.estimate) {
            const est = await navigator.storage.estimate();
            quota = `${((est.usage||0)/1024/1024).toFixed(1)}MB / ${((est.quota||0)/1024/1024).toFixed(0)}MB`;
          }
        }catch(_){}
        checks.push(['Storage ใช้ไป/รวม', quota]);
        render();
      })();

      function render(){
        statusEl.textContent = 'ระบบพร้อมใช้งาน';
        listEl.innerHTML = '';
        checks.forEach(([k,v]) => add(`${k}: ${v}`));
      }

      render();
    })();
  </script>
</body>
</html>
